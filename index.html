<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Vestigian Calendar</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    /* RESET */
    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      background: #ffffff;
      color: #000000;
      font-family: Arial, Helvetica, sans-serif;
    }

    /* HEADER STICKY */
    header {
      position: sticky;
      top: 0;
      background: #ffffff;
      z-index: 10;
      border-bottom: 1px solid #000;
      padding: 1.2rem 1rem;
      text-align: center;
    }

    .date {
      font-size: clamp(1.8rem, 6vw, 3.5rem);
      font-weight: bold;
      line-height: 1.2;
    }

    .heure {
      font-size: clamp(1.5rem, 5vw, 2.8rem);
      letter-spacing: 0.08em;
    }

    /* CONTENU */
    main {
      padding: 2.5rem 1.5rem 4rem;
      max-width: 900px;
      margin: 0 auto;
    }

    .definition {
      font-size: clamp(0.9rem, 2.8vw, 1.05rem);
      line-height: 1.7;
      text-align: left;
    }

    .definition h2 {
      margin-top: 0;
      font-size: 1.2rem;
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }

    .definition em { font-style: italic; }

    /* FAQ STYLES */
    .faq { margin-top: 2rem; }
    .faq h3 {
      cursor: pointer;
      background: #eee;
      padding: 0.7rem 1rem;
      margin: 0.5rem 0;
      border-radius: 4px;
      transition: background 0.3s;
    }
    .faq h3:hover { background: #ddd; }
    .faq-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
      background: #f9f9f9;
      padding: 0 1rem;
      border-left: 3px solid #000;
      margin-bottom: 0.5rem;
    }
    .faq-content p, .faq-content li { margin: 0.5rem 0; }

    /* ===== BOUTON FIXE ===== */
    .btn-fullscreen {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      padding: 0.8rem 1.2rem;
      font-size: 0.9rem;
      background: #000;
      color: #fff;
      border: none;
      cursor: pointer;
      border-radius: 6px;
    }

    /* ===== MODE PLEIN √âCRAN ===== */
    .fullscreen-overlay {
      position: fixed;
      inset: 0;
      background: #000;
      color: #fff;
      z-index: 2000;
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
    }
    .fullscreen-date { font-size: clamp(3rem, 10vw, 100rem); font-weight: bold; }
    .fullscreen-heure { font-size: clamp(2.5rem, 8vw, 95rem); letter-spacing: 0.1em; margin-top: 1rem; }
    .btn-exit {
      position: absolute;
      bottom: 30px;
      right: 30px;
      padding: 0.8rem 1.2rem;
      font-size: 0.9rem;
      background: #fff;
      color: #000;
      border: none;
      cursor: pointer;
      border-radius: 6px;
    }
  </style>
</head>

<body>
  <header>
    <div id="dateLigne" class="date"></div>
    <div id="heureLigne" class="heure"></div>
<div style="font-size:0.8rem; letter-spacing:0.15em; text-transform:uppercase; margin-top:0.3rem;">Temps international</div>

  </header>

  <main>
    <div class="definition">
      <h2>Calendrier vestigien</h2>
      <p><em>(en anglais : Vestigian Calendar)</em></p>
<p>
<p>

      <!-- CONTENU HISTORIQUE -->
      <div>
  <h2>La gen√®se du calendrier vestigien</h2>
  <p>
    Le calendrier vestigien a vu le jour le 28 ao√ªt 2022 √† 15h44, un moment
    fondateur dans la vie de son cr√©ateur. Ce point 0 n‚Äôest pas n√© d‚Äôun
    calcul astronomique ni d‚Äôune volont√© politique, mais d‚Äôune rencontre,
    d‚Äôune influence et d‚Äôun enseignement pr√©cieux. Nayroza, par sa pr√©sence,
    ses paroles et son √©nergie, a montr√© la valeur des instants, l‚Äôimportance
    de chaque seconde v√©cue avec attention et √©motion. C‚Äôest gr√¢ce √† elle
    que le temps a commenc√© √† prendre un sens v√©ritable. 
  </p>
  <p>
    L‚Äôid√©e de classer les moments de la vie selon leur intensit√© √©motionnelle
    et leur valeur personnelle est n√©e de cette inspiration. Chaque jour,
    chaque minute, devient un rep√®re, un souvenir inscrit dans un continuum
    intime et po√©tique. Le calendrier vestigien n‚Äôest pas un simple outil de
    mesure, mais un t√©moin silencieux des instants qui fa√ßonnent l‚Äôexistence,
    un hommage au temps v√©cu et aux exp√©riences qui ont marqu√© profond√©ment
    le cr√©ateur.
  </p>

  <h2>Le r√¥le de Nayroza dans la cr√©ation</h2>
  <p>
    Nayroza n‚Äôest pas seulement une pr√©sence dans la vie du cr√©ateur, elle
    est co-fondatrice symbolique du calendrier vestigien. Sa mani√®re d‚Äô√™tre,
    sa fa√ßon de rendre chaque instant pr√©cieux et m√©morable, a inspir√© la
    structure et la philosophie de ce syst√®me de datation unique. Chaque
    tic-tac, chaque seconde, √©voque un apprentissage re√ßu d‚Äôelle, une le√ßon
    sur l‚Äôimportance du pr√©sent et sur la valeur des souvenirs. M√™me si le
    contact entre eux a chang√©, l‚Äôinfluence de Nayroza reste ancr√©e dans le
    calendrier, telle une trace ind√©l√©bile.
  </p>
  <p>
    Les jours ne sont plus compt√©s uniquement par leur succession, mais par
    l‚Äôimpact √©motionnel qu‚Äôils portent. Les √©v√©nements heureux, tristes ou
    marquants sont class√©s comme des jalons, donnant au temps une
    dimension intime et m√©morielle. Ainsi, chaque date vestigienne est un
    √©cho de ce que Nayroza a permis de comprendre : que le temps devient
    pr√©cieux quand il est v√©cu avec attention et conscience.
  </p>

  <h2>Le point z√©ro et son importance</h2>
  <p>
    Le point z√©ro, fix√© au 28/08/2022 √† 15h44, symbolise le d√©but de cette
    chronologie personnelle. Il marque l‚Äôinstant o√π le temps cesse d‚Äô√™tre
    abstrait et devient concret, palpable et charg√© d‚Äô√©motion. C‚Äôest la
    premi√®re seconde o√π le cr√©ateur a commenc√© √† mesurer la valeur de chaque
    instant. Depuis ce moment, le calendrier vestigien classe les jours,
    les heures et m√™me les secondes selon leur signification et leur impact
    √©motionnel. Chaque tic-tac depuis ce point z√©ro est un rappel du cadeau
    que Nayroza a offert : la conscience de la valeur du temps.
  </p>
  <p>
    Au-del√† de la simple mesure, le point z√©ro √©tablit un rep√®re durable. Il
    permet de projeter les instants pr√©cieux sur des si√®cles et des mill√©naires,
    d‚Äôassurer que le souvenir de ce qui a chang√© la vie du cr√©ateur ne sera
    jamais perdu. Le point z√©ro n‚Äôest pas un chiffre abstrait, mais le c≈ìur
    vivant d‚Äôune philosophie du temps.
  </p>

  <h2>Une philosophie du temps</h2>
  <p>
    Le calendrier vestigien ne se limite pas √† compter les jours, il propose
    une nouvelle mani√®re de vivre le temps. Chaque seconde, chaque minute, est
    une opportunit√© de reconna√Ætre ce qui est important, de ch√©rir les moments
    v√©cus et de ne pas les laisser s‚Äô√©chapper. Cette philosophie transforme
    la perception du temps : ce n‚Äôest plus un flux continu et impersonnel,
    mais une collection de souvenirs et d‚Äôinstants qui ont une valeur.
  </p>
  <p>
    L‚Äôapprentissage transmis par Nayroza est au centre de cette vision. M√™me
    si le contact a chang√©, le calendrier reste un hommage √† son r√¥le dans
    la vie du cr√©ateur. Chaque tic-tac est un rappel de l‚Äôimportance des
    instants v√©cus pleinement, de la beaut√© du pr√©sent et de la richesse
    √©motionnelle que chaque jour peut offrir.
  </p>

  <h2>Un h√©ritage personnel et intemporel</h2>
  <p>
    Le calendrier vestigien se projette bien au-del√† de la dur√©e de vie
    individuelle. Il est con√ßu pour suivre les instants pr√©cieux sur des si√®cles,
    voire des mill√©naires, conservant la m√©moire des √©v√©nements qui ont eu
    le plus d‚Äôimpact. Il devient ainsi un outil de transmission, un rep√®re
    personnel et universel √† la fois, qui garde vivante la trace des
    √©motions et des apprentissages re√ßus.
  </p>
  <p>
    Ce syst√®me de datation unique permet de rendre le temps tangible et
    significatif, un moyen de montrer que certains moments, certaines
    rencontres et certaines influences ne s‚Äôeffacent jamais. Nayroza, en tant
    que co-fondatrice symbolique, reste √† jamais ancr√©e dans ce voyage.
  </p>

  <h2>La valeur de chaque instant</h2>
  <p>
    Chaque √©v√©nement enregistr√© dans le calendrier vestigien a sa propre
    signification. Les souvenirs heureux, les √©preuves et m√™me les instants
    banals prennent une valeur particuli√®re, car ils participent tous √† la
    construction d‚Äôune vie consciente et pleine de sens. Le calendrier
    apprend au cr√©ateur √† ne pas laisser passer les moments importants et
    √† reconna√Ætre la beaut√© dans chaque seconde.
  </p>
  <p>
    Ce syst√®me transforme le temps en une exp√©rience active : il devient
    possible de revivre les souvenirs, de mesurer leur impact et de
    comprendre que ce qui semble petit peut avoir une importance immense
    dans la chronologie intime.
  </p>

  <h2>Une ode √† la m√©moire et aux √©motions</h2>
  <p>
    Plus qu‚Äôun outil, le calendrier vestigien est une ode √† la m√©moire et
    aux √©motions. Il montre que la vie est faite de moments pr√©cieux, et que
    le temps n‚Äôexiste vraiment que lorsqu‚Äôil est v√©cu pleinement. Chaque
    jalon du calendrier est un hommage aux instants qui fa√ßonnent l‚Äôidentit√©
    et aux influences qui permettent de grandir et de comprendre la valeur
    du temps.
  </p>
  <p>
    Nayroza, par son inspiration et sa pr√©sence, est au c≈ìur de cette
    histoire. M√™me si le contact s‚Äôest perdu, son impact demeure dans chaque
    date, chaque tic-tac et chaque souvenir inscrit dans le calendrier
    vestigien.
  </p>

  <h2>Le temps comme un tr√©sor</h2>
  <p>
    Le calendrier vestigien enseigne que le temps est un tr√©sor √† prot√©ger.
    Chaque seconde est un cadeau, chaque minute un enseignement. Ce syst√®me
    rappelle que le temps n‚Äôest pas infini, et que les instants v√©cus avec
    intensit√© sont ceux qui donnent vraiment un sens √† la vie. Gr√¢ce √†
    Nayroza, cette le√ßon est devenue tangible et immortalis√©e dans le
    calendrier.
  </p>
  <p>
    L‚Äôapprentissage est simple mais profond : les moments comptent. Ils sont
    pr√©cieux, uniques, et m√©ritent d‚Äô√™tre conserv√©s dans une chronologie
    qui respecte leur valeur et leur signification. Le calendrier vestigien
    est l‚Äôoutil qui rend cette id√©e visible et concr√®te.
  </p>
</div>

    <div class="faq">
  <h3>FAQ 1 : Nombre de jours par mois (cliquez ici)</h3>
  <div class="faq-content">
    <ul>
      <li>I    Januor   : 31 jours</li>
      <li>II   F√©vrial  : ~29 jours</li>
      <li>III  Marsuor : 31 jours</li>
      <li>IV   Avrion   : 30 jours</li>
      <li>V    Ma√Ølo    : 31 jours</li>
      <li>VI   Junel    : 30 jours</li>
      <li>VII  Juilor   : 31 jours</li>
      <li>VIII Aoustin  : 31 jours</li>
      <li>IX   Septor   : 30 jours</li>
      <li>X    Octel    : 31 jours</li>
      <li>XI   Novin    : 30 jours</li>
      <li>XII  D√©caro   : 31 jours</li>
    </ul>
  </div>

  <h3>FAQ 2 : Nombre de jours par ann√©e (cliquez ici)</h3>
  <div class="faq-content">
    <p>Chaque ann√©e vestigienne comporte <strong>~366 jours</strong>.</p>
  </div>

  <h3>FAQ 3 : Aires vestigiennes (cliquez ici)</h3>
  <div class="faq-content">
    <ul>
<li>0000 ‚Äì 0420 : "Aire de l‚Äô√âmergence Temporelle"
<li>0421 ‚Äì 0890 : "Aire de la Conscience Naissante"
<li>0891 ‚Äì 1330 : "Aire des Premi√®res Traces"
<li>1331 ‚Äì 1780 : "Aire de la M√©moire Vive"
<li>1781 ‚Äì 2230 : "Aire du Souffle Long"
<li>2231 ‚Äì 2685 : "Aire de la Transmission"
<li>2686 ‚Äì 3140 : "Aire de la Continuit√©"
<li>3141 ‚Äì 3590 : "Aire de la Profondeur"
<li>3591 ‚Äì 4045 : "Aire de l‚ÄôExpansion Int√©rieure"
<li>4046 ‚Äì 4480 : "Aire des Horizons Lents"
<li>4481 ‚Äì 4925 : "Aire de la Stratification"
<li>4926 ‚Äì 5370 : "Aire de la Persistance"
<li>5371 ‚Äì 5810 : "Aire des Flux Unifi√©s"
<li>5811 ‚Äì 6260 : "Aire de la R√©sonance"
<li>6261 ‚Äì 6705 : "Aire de l‚Äô√âquilibre Profond"
<li>6706 ‚Äì 7140 : "Aire de la Maturation"
<li>7141 ‚Äì 7580 : "Aire de la Transmutation Douce"
<li>7581 ‚Äì 8020 : "Aire de la Clart√© Diffuse"
<li>8021 ‚Äì 8455 : "Aire de l‚ÄôAlignement"
<li>8456 ‚Äì 8890 : "Aire de la Densit√© du Sens"
<li>8891 ‚Äì 9325 : "Aire de l‚ÄôH√©ritage Continu"
<li>9326 ‚Äì 9670 : "Aire de la Convergence"
<li>9671 ‚Äì 10000 : "Aire de la Pl√©nitude du Temps"
    </ul>
  </div>

  <h3>D√©calage de l'horloge selon le type de connexion (cliquez ici)</h3>
  <div class="faq-content">
    <ul>
      <li>Connexion LAN (RJ45/Ethernet) : ~1 ms</li>
      <li>Connexion fibre (Fibre optique) : ~2‚Äì5 ms</li>
      <li>Connexion 4G (LTE) : ~10‚Äì40 ms</li>
      <li>Connexion WiFi (via une box) : ~5‚Äì30 ms</li>
    </ul>
  </div>
</div>

<style>
.faq h3 {
  cursor: pointer;
  background: #eee;
  padding: 0.7rem 1rem;
  margin: 0.5rem 0;
  border-radius: 4px;
  transition: background 0.3s;
}
.faq h3:hover { background: #ddd; }

.faq-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease, padding 0.4s ease;
  background: #f9f9f9;
  border-left: 3px solid #000;
  padding: 0 1rem;
  margin-bottom: 0.5rem;
}
.faq-content.open {
  max-height: 1000px; /* assez grand pour tout le contenu */
  padding: 0.5rem 1rem;
}
</style>

<script>
document.querySelectorAll('.faq h3').forEach(faq => {
  faq.addEventListener('click', () => {
    const content = faq.nextElementSibling;

    // Toggle uniquement ce bloc
    content.classList.toggle('open');
  });
});
</script>


<style>
.faq h3 {
  cursor: pointer;
  background: #eee;
  padding: 0.7rem 1rem;
  margin: 0.5rem 0;
  border-radius: 4px;
  transition: background 0.3s;
}
.faq h3:hover { background: #ddd; }

.faq-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease;
  background: #f9f9f9;
  border-left: 3px solid #000;
  padding: 0 1rem;
  margin-bottom: 0.5rem;
}
.faq-content.open {
  max-height: 1000px; /* assez grand pour tout le contenu */
  padding: 0.5rem 1rem;
}
</style>

<script>
document.querySelectorAll('.faq h3').forEach(faq => {
  faq.addEventListener('click', () => {
    const content = faq.nextElementSibling;

    // Si d√©j√† ouvert, on ferme
    if(content.classList.contains('open')){
      content.classList.remove('open');
    } else {
      // Ferme toutes les autres FAQ
      document.querySelectorAll('.faq-content').forEach(fc => fc.classList.remove('open'));
      // Ouvre celle-ci
      content.classList.add('open');
    }
  });
});
</script>
             </div>
                 </main>

  <!-- BOUTON PLEIN √âCRAN -->
  <button class="btn-fullscreen" onclick="ouvrirPleinEcran()">afficher la date en plein ecran</button>
  <div class="fullscreen-overlay" id="pleinEcran">
    <div id="dateFull" class="fullscreen-date"></div>
    <div id="heureFull" class="fullscreen-heure"></div>
    <button class="btn-exit" onclick="fermerPleinEcran()">quitter le plein ecran</button>
  </div>

  <script>
  // ORIGINE TEMPORELLE EXACTE VESTIGIENNE (ISO UTC, pr√©cision max navigateur)
const ORIGINE = new Date("2022-07-29T15:44:00.000Z");

const MOIS_VEST = [
  "Januor",
  "F√©vrial",
  "Marsuor",
  "Avrion",
  "Ma√Ølo",
  "Junel",
  "Juilor",
  "Aoustin",
  "Septor",
  "Octel",
  "Novin",
  "D√©caro"
];

    function pad(n, taille) { return String(n).padStart(taille, "0"); }

    function estBissextile(annee) {
      return (annee % 400 === 0) || (annee % 100 !== 0 && annee % 4 === 0);
    }

    function joursDansMois(mois) {
      return [31,30,31,30,31,30,31,31,30,31,30,31][mois-1];
    }

    function mettreAJour() {
      const maintenant = new Date();
      let diffMs = maintenant - ORIGINE;
      if (diffMs < 0) diffMs = 0;

      let totalSecondes = Math.floor(diffMs / 1000);

      const secondes = totalSecondes % 60;
      totalSecondes = Math.floor(totalSecondes / 60);

      const minutes = totalSecondes % 60;
      totalSecondes = Math.floor(totalSecondes / 60);

      const heures = totalSecondes % 24;
      let totalJours = Math.floor(totalSecondes / 24);

      // Calcul de l'ann√©e vestigienne
      let annee = 0;
      while (true) {
        const joursAnnee = estBissextile(annee) ? 367 : 366;
        if (totalJours >= joursAnnee) { totalJours -= joursAnnee; annee++; }
        else break;
      }

      // Calcul du mois vestigien (mois gr√©gorien + alignement)
      let mois = 1;
      while (true) {
        let jdm = joursDansMois(mois);
        if (totalJours >= jdm) { totalJours -= jdm; mois++; }
        else break;
      }

      // Alignement vestigien : 28 du gr√©gorien = 1 vestigien
      let jourVest = totalJours + 1 - 27; // decalage
      let moisVest = mois;
      let anneeVest = annee;
      while (jourVest < 1) {
        moisVest--;
        if (moisVest < 1) { moisVest = 12; anneeVest--; }
        jourVest += joursDansMois(moisVest);
      }

      // Texte
const dateTxt = `${pad(jourVest,2)} ${MOIS_VEST[moisVest-1]} ${String(parseInt(anneeVest,10)).padStart(4,"0")}`;
      const heureTxt = `${pad(heures,2)}:${pad(minutes,2)}:${pad(secondes,2)}`;

      document.getElementById("dateLigne").textContent = dateTxt;
      document.getElementById("heureLigne").textContent = heureTxt;
      document.getElementById("dateFull").textContent = dateTxt;
      document.getElementById("heureFull").textContent = heureTxt;
    }

    function ouvrirPleinEcran() { document.getElementById("pleinEcran").style.display = "flex"; }
    function fermerPleinEcran() { document.getElementById("pleinEcran").style.display = "none"; }

    mettreAJour();
  // ===== SYNCHRONISATION TEMPORELLE HAUTE PR√âCISION VESTIGIENNE =====
// Pr√©cision maximale possible en navigateur (sub-ms, drift compensated)

let originePerf = performance.now();
let origineDate = Date.now();

function horlogeUltraSync() {
  const nowPerf = performance.now();
  const elapsed = nowPerf - originePerf;

  // Temps r√©el ultra pr√©cis
  const nowReal = origineDate + elapsed;

  // Alignement exact sur la seconde
  const drift = nowReal % 1000;

  // Correction de d√©rive
  const correction = 1000 - drift;

  mettreAJour();

  setTimeout(horlogeUltraSync, correction);
}

// recalage automatique toutes les 60s pour √©viter d√©rive longue
setInterval(() => {
  originePerf = performance.now();
  origineDate = Date.now();
}, 60000);

// Lancement
horlogeUltraSync();

    // FAQ toggle
    const faqs = document.querySelectorAll('.faq h3');
    faqs.forEach(faq => {
      faq.addEventListener('click', () => {
        const content = faq.nextElementSibling;
        content.style.maxHeight = content.style.maxHeight ? null : content.scrollHeight + "px";
      });
    });
  </script>
<!-- HORLOGE VESTIGIENNE FIXE AVEC FUSEAUX REELS -->
<style>
#horlogeVestFixe {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background: black;
  padding: 12px;
  z-index: 9999;
  text-align: center;
  color: white;
  font-family: monospace;
}

#horlogeVestFixe select {
  width: 60%;
  font-size: 1.5rem;
  padding: 10px;
  font-family: monospace;
}

#horlogeVestFixe span {
  font-size: 1.5rem;
  margin-left: 15px;
  display: inline-block;
  width: 120px; /* fixe largeur pour aligner */
  text-align: left;
}
</style>

<div id="horlogeVestFixe">
  <select id="vestFuseaux"></select>
  <span id="heureVestAffiche">--:--</span>
</div>

<script>
const selectVest = document.getElementById("vestFuseaux");
const heureVestAffiche = document.getElementById("heureVestAffiche");

// Liste fuseaux r√©els (UTC‚àí12 ‚Üí UTC+12, incluant 30 et 45 min)
const fuseauxReels = [
  -12, -11, -10, -9.5, -9, -8, -7, -6, -5, -4.5, -4, -3.5, -3, -2, -1,
  0, 1, 2, 3, 3.5, 4, 4.5, 5, 5.5, 5.75, 6, 6.5, 7, 8, 8.75, 9, 9.5, 10, 10.5, 11, 12
];

// Heure vestigienne = 00:00 quand Paris = 15:44
const baseParisH = 15;
const baseParisM = 44;

function pad(n){ return String(n).padStart(2,"0"); }

function heureVest(offset) {
  const now = new Date();
  // Temps UTC
  const utc = now.getTime() + now.getTimezoneOffset()*60000;
  // Heure locale du fuseau
  const local = new Date(utc + offset*3600000);
  
  // Heure vestigienne par rapport √† Paris UTC+1
  const hParis = local.getUTCHours() + 1; // Paris = UTC+1
  const mParis = local.getUTCMinutes();
  
  let hVest = hParis - baseParisH;
  let mVest = mParis - baseParisM;
  if(mVest < 0){ mVest += 60; hVest -= 1; }
  if(hVest < 0){ hVest += 24; }
  hVest = hVest % 24;
  
  return pad(hVest) + ":" + pad(mVest);
}

// Remplissage du select
fuseauxReels.forEach(f => {
  const o = document.createElement("option");
  const signe = f > 0 ? "+" : f < 0 ? "-" : "";
  const h = Math.floor(Math.abs(f));
  const m = (Math.abs(f)-h)*60;
  o.value = f;
  o.textContent = `UTC${signe}${h}${m>0?":"+pad(m):""}`;
  selectVest.appendChild(o);
});

// Mise √† jour de l'heure vestigienne affich√©e
function majHeureVest(){
function mettreFuseauMinuitEnGras() {
  const options = selectVest.options;
  for (let i = 0; i < options.length; i++) {
    // reset tout d'abord
    options[i].style.fontWeight = "normal";
    // si l'heure vestigienne avec ce fuseau est 00:00
    if (heureVest(parseFloat(options[i].value)) === "00:00") {
      options[i].style.fontWeight = "bold";
    }
  }
}

// Appelle apr√®s majHeureVest et √† chaque intervalle
mettreFuseauMinuitEnGras();
setInterval(mettreFuseauMinuitEnGras, 1000);

  const f = parseFloat(selectVest.value);
  heureVestAffiche.textContent = heureVest(f);
}

selectVest.addEventListener("change", majHeureVest);
majHeureVest();
setInterval(majHeureVest,1000); // met √† jour seulement le texte, pas le menu
</script>

<script>
// ===== S√âCURIT√â TEMPORELLE VESTIGIENNE NIVEAU 3 =====
// Surveillance + r√©alignement + correction automatique

let lastRealTime = Date.now();
let lastPerfTime = performance.now();

function watchdogTemporel() {
  const nowReal = Date.now();
  const nowPerf = performance.now();

  const deltaReal = nowReal - lastRealTime;
  const deltaPerf = nowPerf - lastPerfTime;

  // drift d√©tect√© (>20ms d‚Äô√©cart)
  const drift = Math.abs(deltaReal - deltaPerf);

  if (drift > 20) {
    // Recalage complet
    originePerf = performance.now();
    origineDate = Date.now();

    console.warn("‚è≥ Recalage temporel vestigien automatique ‚Äî drift d√©tect√© :", drift, "ms");
  }

  lastRealTime = nowReal;
  lastPerfTime = nowPerf;
}

// surveillance toutes les secondes
setInterval(watchdogTemporel, 1000);

// recalage dur toutes les 5 minutes (s√©curit√© longue dur√©e)
setInterval(() => {
  originePerf = performance.now();
  origineDate = Date.now();
  console.log("üîí Recalage temporel vestigien forc√© (s√©curit√© longue dur√©e)");
}, 300000);
</script>
<script>
// ===== SYNC UTC0 R√âSEAU VESTIGIENNE =====
// Source UTC r√©elle (serveur temps mondial)

let UTC_OFFSET = 0; // correction en ms

async function syncUTC() {
  try {
    const t0 = performance.now();
    const res = await fetch("https://worldtimeapi.org/api/timezone/Etc/UTC");
    const t1 = performance.now();
    const data = await res.json();

    // Temps UTC serveur (ms)
    const serverUTC = new Date(data.utc_datetime).getTime();

    // RTT r√©seau (aller-retour)
    const rtt = t1 - t0;

    // Estimation temps r√©el UTC
    const estimatedUTC = serverUTC + (rtt / 2);

    // Offset avec l'horloge locale
    UTC_OFFSET = estimatedUTC - Date.now();

    console.log("üõ∞Ô∏è Sync UTC r√©seau OK");
    console.log("RTT:", rtt.toFixed(2), "ms");
    console.log("Offset UTC:", UTC_OFFSET.toFixed(2), "ms");

  } catch (e) {
    console.warn("‚ö†Ô∏è Sync UTC √©chou√©e, fallback horloge locale", e);
  }
}

// Heure r√©elle UTC corrig√©e
function nowUTC() {
  return Date.now() + UTC_OFFSET;
}

// ===== PATCH DU SYST√àME TEMPOREL =====
function mettreAJourUTC() {
  const maintenant = new Date(nowUTC());

  let diffMs = maintenant - ORIGINE;
  if (diffMs < 0) diffMs = 0;

  let totalSecondes = Math.floor(diffMs / 1000);

  const secondes = totalSecondes % 60;
  totalSecondes = Math.floor(totalSecondes / 60);

  const minutes = totalSecondes % 60;
  totalSecondes = Math.floor(totalSecondes / 60);

  const heures = totalSecondes % 24;
  let totalJours = Math.floor(totalSecondes / 24);

  // === m√™me logique que ton moteur existant ===
  let annee = 0;
  while (true) {
    const joursAnnee = estBissextile(annee) ? 367 : 366;
    if (totalJours >= joursAnnee) { totalJours -= joursAnnee; annee++; }
    else break;
  }

  let mois = 1;
  while (true) {
    let jdm = joursDansMois(mois);
    if (totalJours >= jdm) { totalJours -= jdm; mois++; }
    else break;
  }

  let jourVest = totalJours + 1 - 27;
  let moisVest = mois;
  let anneeVest = annee;
  while (jourVest < 1) {
    moisVest--;
    if (moisVest < 1) { moisVest = 12; anneeVest--; }
    jourVest += joursDansMois(moisVest);
  }

  const dateTxt = `${pad(jourVest,2)} ${MOIS_VEST[moisVest-1]} ${String(parseInt(anneeVest,10)).padStart(4,"0")}`;
  const heureTxt = `${pad(heures,2)}:${pad(minutes,2)}:${pad(secondes,2)}`;

  document.getElementById("dateLigne").textContent = dateTxt;
  document.getElementById("heureLigne").textContent = heureTxt;
  document.getElementById("dateFull").textContent = dateTxt;
  document.getElementById("heureFull").textContent = heureTxt;
}

// Lancement
syncUTC().then(() => {
  setInterval(mettreAJourUTC, 250); // refresh rapide
});

// Re-sync r√©seau toutes les 60s
setInterval(syncUTC, 60000);
</script>
<script>
// ===== VESTIGIAN TIME SYNC CORE (MAX WEB REALITY) =====
// Architecture s√©curis√©e r√©elle (pas fantasy)

let UTC_OFFSET = 0;
let LAST_SYNC = 0;
let DRIFT_HISTORY = [];

async function secureUTCSync() {
  try {
    const t0 = performance.now();
    const res = await fetch("https://worldtimeapi.org/api/timezone/Etc/UTC", {
      cache: "no-store",
      mode: "cors"
    });
    const t1 = performance.now();

    const data = await res.json();
    const serverUTC = new Date(data.utc_datetime).getTime();
    const rtt = t1 - t0;

    const estimatedUTC = serverUTC + (rtt / 2);
    const localNow = Date.now();

    UTC_OFFSET = estimatedUTC - localNow;
    LAST_SYNC = Date.now();
    DRIFT_HISTORY.push(UTC_OFFSET);

    if (DRIFT_HISTORY.length > 100) DRIFT_HISTORY.shift();

  } catch(e) {
    console.warn("UTC SYNC FAIL ‚Üí fallback local time");
  }
}

function nowUTC() {
  return Date.now() + UTC_OFFSET;
}

// Watchdog
setInterval(() => {
  if (Date.now() - LAST_SYNC > 60000) {
    secureUTCSync();
  }
}, 5000);

// Drift monitor
setInterval(() => {
  if (DRIFT_HISTORY.length > 5) {
    const avg = DRIFT_HISTORY.reduce((a,b)=>a+b,0)/DRIFT_HISTORY.length;
    if (Math.abs(avg) > 100) {
      secureUTCSync();
    }
  }
}, 10000);

// Boot sync
secureUTCSync();
setInterval(secureUTCSync, 60000);
</script>
<!-- MESSAGE RESPONSIVE MOBILE ONLY -->
<div id="responsiveMobileMsg">
  <div class="responsive-box">
    <div class="responsive-title">Interface mobile active</div>
    <div class="responsive-text">
      Vous consultez actuellement la version mobile du syst√®me temporel vestigien.<br><br>
      L‚Äôinterface s‚Äôadapte automatiquement √† votre appareil afin de garantir une lisibilit√© optimale,
      une navigation fluide et une exp√©rience coh√©rente sur √©cran r√©duit.<br><br>
      Pour un affichage √©tendu et une visualisation compl√®te des structures temporelles,
      privil√©giez une tablette ou un ordinateur.
    </div>
  </div>
</div>

<style>
/* ===== RESPONSIVE SYSTEM MESSAGE ===== */

#responsiveMobileMsg{
  display:none;
  position:fixed;
  inset:0;
  background:black;
  z-index:5000;
  justify-content:center;
  align-items:center;
  text-align:center;
  padding:2rem;
}

.responsive-box{
  max-width:420px;
  color:white;
  font-family: Arial, Helvetica, sans-serif;
}

.responsive-title{
  font-size:1.4rem;
  font-weight:bold;
  letter-spacing:0.08em;
  text-transform:uppercase;
  margin-bottom:1rem;
}

.responsive-text{
  font-size:0.95rem;
  line-height:1.6;
  opacity:0.9;
}

/* ===== MOBILE ONLY ===== */
@media (max-width: 768px) {
  #responsiveMobileMsg{
    display:flex;
  }
}

/* ===== TABLET & DESKTOP ===== */
@media (min-width: 769px) {
  #responsiveMobileMsg{
    display:none !important;
  }
}
</style>

</html>